<!-- Generated by documentation.js. Update this documentation by updating the source code. -->
# CalDom Documentation 1.0.4

- [Traverse](#dom-traversal)
	- [_("\<query\>")](#_query---constructor)
	- [_.q("\<query\>")](#_q)
	- [.find("\<query\>")](#findquery)

- [Access Properties & Execute Methods](#access-any-element-property-or-execute-its-methods)
	- [.call()](#call)
	- [.prop()](#prop)
	- [.data()](#data)

- [Manipulate DOM Tree](#manipulate-dom-tree)
	- [.append()](#append)
	- [.prepend()](#prepend)
	- [.remove()](#remove)

- [Manipulate/Retrieve Content](#manipulateretrieve-content)
	- [.html()](#html)
	- [.text()](#text)
	- [.val()](#val)
	- [.attr()](#attr)

- [CSS Styling](#css-styling)
	- [.css()](#css)
	- [.addClass()](#addclass)
	- [.removeClass()](#removeclass)

- [Event Handling](#event-handling)
	- [.on()](#on)
	- [.off()](#off)

- [Iterating](#iterating)
	- [.eq()](#eq)
	- [.parent()](#parent)
	- [.children()](#children)
	- [.each()](#each)
	- [.elems](#elems)

# DOM Traversal
## _("\<query\>") - Constructor

### Parameters

-   `selector_xpath_caldom_elems` **([String][64] \| [CalDom][67] \| [Node][65] \| [Array][66]&lt;[Node][65]> | [NodeList][68] | [HTMLCollection][75])?** "+html_tag" creates a new element.
    Otherwise, it can be a CSS Selector, an XPath query starting with "$", a CalDom instance, a single Node/Element, an array of Nodes or a NodeList/HTMLCollection
-   `parentWindow` **[Window][69]** (Optional) parent_window default to current window. Use this to work with iframes or external windows (optional, default `window`)

### Examples

```javascript
//Creates a new password input element with a placeholder
var passwordInput = _("+input")
		.attr({
			type: "password",
			placeholder: "Enter your password"
		});

//Get element by ID using CSS Selector
var container = _("#container-id");

//Find anchor elements inside <article> with href containing "wikipedia.org" using an XPath query
var wikipedia_links = _("$//article/a[contains(＠href, 'wikipedia.org')]");

//Creates a CalDom instance with a single Node
var container = _(container_node);

//Creates a CalDom instance with NodeList or array of Nodes
var bodyChildren = _(document.body.childNodes);
```

Returns **[CalDom][67]** a chainable CalDom instance
<br/>
___
<br/>

## _.q()

Call CalDom's query function directly using \_.q()

### Parameters

-   `query` **[String][64]** "+html_tag" creates a new element. Otherwise it can be a CSS Selector or an XPath query starting with "$"
-   `parent_node` **[Node][65]?** Treated as the parent node for CSS selector or XPath query. Otherwise, default to window.document

### Examples

```javascript
//Get element with id "container-id" using its CSS selector
var container = _.q("#container-id")[0];

//Create a new <div> element
var div = _.q("+div")[0]; 

//Get all <p> elements inside <article> using an XPath query
var paragraph_array = _.q("$//article/p");
```

Returns **[Array][66]** An array with the new element or NodeList returned by the CSS selector or the XPath query
(Shorten for query())
<br/>
___
<br/>


## .find("\<query\>")

Find matching descendent elements for all elements in this CalDom instance

#### Parameters

-   `selector_or_xpath` **[String][64]** CSS Selector to find or XPath query starting with "$"

#### Examples

```javascript
//Find child elements by the CSS selector
var slide_photos = calDomInstance.find(".slide-photo");

//Find child anchor elements with href containing "wikipedia.org" using an XPath query
var wikipedia_links = calDomInstance.find("$./a[contains(＠href, 'wikipedia.org')]");

//Find following siblings of a <li> using an XPath query. (Note relative XPath queries starts with './' instead of root '/')
var li_next_siblings = _("#li-id").find("$./following-sibling::li");
```

Returns **[CalDom][67]** A new chainable CalDom instance with found elements.
Note: This could return duplicates when there are inter-connected elements in this CalDom instance.
<br/>
___
<br/>


# Access element's properties or execute its methods.

## .call()

Call methods directly if performance is a critical concern. CalDom's unique query/createElement function can be accessed directly using _.q(). Eg: _.q("#container-id") or _.q("+div") or _.q("$//article/p")

#### Parameters

-   `function_path_name` **[String][64]** Function name or path.to.functionName to call. Eg: "getBoundingClientRect" or "classList.contains"
-   `args_array` **[Array][66]?** (Optional) An array of arguments to pass to the function

#### Examples

```javascript
//Get an array of getBoundingClientRect() for all <div> tags
var bounding_rects = _("div").call("getBoundingClientRect");

//Check whether text input tags contain the "error" class
var contain_error_array = _("input[type=text]").call( "classList.contains", ["error"] )
```

Returns **[Array][66]** An array of outputs from the called function on each element in this CalDom instance.
<br/>
___
<br/>


## .prop()

Get or set variable(s) at elements' root. Other than assigning custom data of any type at elements' root, this can be used to access all properties/attributes of elements as well.

#### Parameters

-   `key_path_or_path_array_or_key_values` **([String][64] \| [Object][74])** Variable name as a String or { key: value, ...} Object to set multiple variables. To access n-th level variables, use "." Eg: "attributes.type.value"
-   `val_or_val_array` **(any | [Array][66])?** (Optional) Value or an array of values to be to be assigned at the corresponding n-th element. If empty, an array of requested variable's values is returned.

#### Examples

```javascript
//Get custom data
var custom_data_array = _(".class-name").prop("customData");

//Set custom data using data() alias (same as usong prop())
_(".class-name").data("customData", someDataObject);

//Set click event handler
_("#elem-id").prop("onclick", (e) => { console.log("clicked") }); 

//Get an array of textContent.length for all <p> elements
var para_length_array = _("p").prop("textContent.length");

//Set an array of custom_data to n-th <p> separately
_("p").prop( "custom_data", [custom_data_one, custom_data_two, null] );

//Set multiple variables
_("input").prop({
		type: "text",
		value: "Hello World!",
		custom_data: 44,
		myDocument: window.document
})
```
Warning: Look out for untracked circular references that might lead to memory leaks.

Returns **([CalDom][67] \| [Array][66])** If it's a set request, this chainable CalDom instance is returned. Otherwise, a value array from all elements in this CalDom instance is returned.
<br/>
___
<br/>


## .data()

Alias for prop() to keep compatibility with old versions and for drop-in jQuery compatibility
<br/>
___
<br/>


# Manipulate DOM Tree

## .append()

Null and undefined inputs are silently ignored. Note that if you append an existing element, it is moved to the new destination (not cloning).

#### Parameters

-   `element_or_elements_or_caldom_or_generator` **([Node][65] \| [CalDom][67] \| [Array][66] \| [NodeList][68] | HTMLCollection | [Function][73])** First argument can be a CalDom instance, a Node or an array of Nodes or a generator function that returns a new Element. 
    Items are added to the first element of this CalDom instance. Generated item is added to all elements in this CalDom instance. 
    Generator receives corresponding parent_node and parent_index as arguments.

#### Examples

```javascript
//Append a new <div> and created by CalDom <body>
_("body").append( _("+div") );

//Append multiple elements, a nested set of elements created by CalDom, a single Node and an array of Nodes to element with id "container-id"
_("#container-id").append(
		_("+div")
			.append( "+p").text("Paragraph inside the div.")),

		_("p").text("Paragraph outside the div"),
		
		document.createElement("img"),

		null, undefined,
		
		document.createElement("canvas")
);

//Append Node to <body>
_("body").append( document.createElement("div") );

//Append an array of Nodes and CalDom instances to <body>
_("body").append( [document.createElement("div"), _("+h1"), document.createElement("p")] );

//Move <p> elements from "container-id-a" to "container-id-b"
_("#container-id-b").append( _("#container-id-a p") );

//Append new elements using a generator function to all elements in this CalDom instance
_("#container-one").append( function(parent_node, parent_index){
		return _("+div").text("I'm inside parent: " + parent_index);
});
```

Returns **[CalDom][67]** this chainable CalDom instance
<br/>
___
<br/>

## .prepend()

Null and undefined inputs are silently ignored. Note that if you prepend an existing element, it is moved to the new destination (not cloning).

#### Parameters

-   `element_or_elements_or_caldom_or_generator` **([Node][65] \| [CalDom][67] \| [Array][66] \| [NodeList][68] | HTMLCollection | [Function][73])** First argument can be a CalDom instance, a Node or an array of Nodes or a generator function that returns a new Element. 
    Items are prepended to the first element of this CalDom instance. Generated item is prepended to all elements in this CalDom instance. 
    Generator receives corresponding parent_node and parent_index as arguments.
-   `before_elem_or_caldom` **([Node][65] \| [CalDom][67])?** (Optional) If provided, items are inserted before this element instead before the firstChild.

#### Examples

```javascript
//Prepend a new <p> element as the first child
_("#container-id").prepend( _("+p").text("I'm first child now.") );

//Prepend a new <p> element before the 3rd paragraph in the container
_("#container-id").prepend( _("+p").text("I'm 3rd paragraph"), _("#container-id p").eq(2) );

//Prepend an array of Nodes and CalDom instances to <body>
_("body").prepend( [document.createElement("div"), _("+h1"), document.createElement("p")] );

//Move and prepend <p> elements from "container-id-a" to "container-id-b" before its 2nd <img>
_("#container-id-b").append( _("#container-id-a p"), _("#container-id-b img").eq(1) );

//Prepend new elements using a generator function to all elements in this CalDom instance
_("#container-one").append( function(parent_index, parent_node){
		return _("+div").text("I'm inside parent: " + parent_index);
});
```

Returns **[CalDom][67]** this chainable CalDom instance
<br/>
___
<br/>

## .remove()

#### Examples

```javascript
//Remove all <p> elements
_("p").remove();
```

Remove all elements of this CalDom instance from the DOM.

Returns **[CalDom][67]** this empty chainable CalDom instance
<br/>
___
<br/>


# Manipulate/Retrieve Content

## .html()

-   **See: text:
    **

Get or set innerHTML of all elements in this CalDom instance. (WARNING: Might lead to XSS vulnerabilities. Use text() if you're only changing text)

#### Parameters

-   `html_or_html_array` **([String][64] \| [array][66])?** (Optional) A HTML string or an array of HTML strings to set at corresponding n-th element. If empty, an array of innerHTML for all elements in this CalDom instance is returned.

#### Examples

```javascript
//Set HTML code to a DIV element
_("#div-id").html( '<p>Bla Bla</p>' );

//Set an array of HTML code to corresponding n-th element with class "container"
_(".container").html( ['<p id="para-1"></p>', '<p id="para-2"></p>'] );

//Get HTML code of all h3 elements as an array
var h3_html_array = _("h3").html();
```

Returns **([CalDom][67] \| [Array][66])** If HTML param is given, current chainable CalDom instance is returned. Otherwise, an array of innerHTML for all elements is returned.
<br/>
___
<br/>

## .text()

Get or set textContent of all elements in this CalDom instance.

#### Parameters

-   `text_or_text_array`  
-   `text` **([String][64] \| [Array][66])?** (Optional) Text or an array of text to set at corresponding n-th element. If empty, an array of textContent is returned.

#### Examples

```javascript
//Set text of all anchor elements to "Click Here"
_("a").text("Click Here");

//Set an array of text to n-th paragraph with the class "article-content"
_("p.article-content").text( ["Para One", "Para Two"] )

//Get an array of text from span elements with the class "caption"
var captions_array = _("span.caption").html();
```

Returns **([CalDom][67] \| [Array][66])** If text param is empty, current chainable CalDom instance is returned. Otherwise, an array of textContent for all elements in this CalDom instance is returned.
<br/>
___
<br/>

## .val()

Get or set value property of elements in this CalDom instance.

#### Parameters

-   `val_or_val_array` **(any | [Array][66])?** (Optional) Value or array of values to to be set at corresponding n-th element. If not given, array of values will be returned.

#### Examples

```javascript
//Get an value array from all input[type=text] elements
var input_text_array = _('input[type="text"]').val();

//Make all password fields empty
_('input[type="password"]').val("");

//Set an array of values to n-th input element
_('input[type="text"]').val( ["One", "Two", "Three"] );
```

Returns **([CalDom][67] \| [Array][66])** If the value is not given, array of elements' values is returned. Otherwise, this chainable CalDom instance is returned.
<br/>
___
<br/>


## .attr()

Get or set attribute(s) of elements in this CalDom instance.

#### Parameters

-   `key_or_key_values` **([String][64] \| [Object][74])** Attribute name as a String or { key: value, ...} object to set multiple attributes
-   `val_or_val_array` **(any | [Array][66])?** (Optional) Value or array of values to be assigned at corresponding n-th element. If empty, array of attribute values will be returned.

#### Examples

```javascript
//Set scrolling attribute of all iframes
_("iframe").attr("scrolling", "no");

//Get an array of href attribute from all <a> tags
var links_array = _("a").attr("href");
 
//Set width and height of <img> with id "img-id"
_("#img-id").attr({
	width: 400,
	height: 300
});

//Set an array of type attribute to n-th input elements
_("input").attr( "type", ["text", "password", "date"] );
```

Returns **([CalDom][67] \| [Array][66])** If it's a set request, this CalDom instance is returned for chaining. Otherwise, a attribute value array from all elements in this CalDom instance is returned.
<br/>
___
<br/>


# CSS Styling

## .css()

Set CSS style rule(s) to elements in this CalDom instance

#### Parameters

-   `key_or_key_values` **([String][64] \| [Object][74])** CSS property name or { Property: Value, ... } object to set multiple rules
-   `val` **any** Value

#### Examples

```javascript
//Set one rule
_(".class-name").css("background-color", "blue");

//Set multiple rules
_("#div-id").css({
	backgroundColor: "red",
	"font-size": "2em"
});
```

Returns **[CalDom][67]** this chainable CalDom instance
<br/>
___
<br/>


## .addClass()

Add class name(s) to elements in this CalDom instance

#### Parameters

-   `class_names` **[String][64]** A single class name or multiple class names separated by spaces.

#### Examples

```javascript
//Add a single class
_("#container").addClass("wide-view");

//Add multiple classes
_("#container").addClass("visible dark-theme narrow");
```

Returns **[CalDom][67]** this chainable CalDom instance
<br/>
___
<br/>

## .removeClass()

Remove class name(s) from elements in this CalDom instance

#### Parameters

-   `class_names` **[String][64]** A single class name or multiple class names separated by spaces.

#### Examples

```javascript
//Remove a single class
_("#container").removeClass("visible");

//Remove multiple classes
_("#container").removeClass("dark-theme narrow");
```

Returns **[CalDom][67]** this chainable CalDom instance
<br/>
___
<br/>


# Event Handling

## .on()

Add event listeners to elements in this CalDom instance.

#### Parameters

-   `event_names` **[String][64]** A single event name or multiple event names separated by spaces.
-   `handler` **[Function][73]** Callback
-   `options` **any?** (Optional) options to pass into addEventListener's 3rd param

#### Examples

```javascript
//Add a click event listener
_("div-id").on("click", (e) => { console.log("clicked") });

//Add mousemove and touchmove event listeners
_("div-id").on("mousemove touchmove", moveHandler);
```

Returns **[CalDom][67]** this chainable CalDom instance
<br/>
___
<br/>


## .off()

Remove event listeners to elements in this CalDom instance.

#### Parameters

-   `event_names` **[String][64]** A single event name or multiple event names separated by spaces.
-   `handler` **[Function][73]** Callback. The same callback provided at on() or Node.addEventListener should be provided.
-   `options` **any?** (Optional) options to pass into removeEventListener's 3rd param

#### Examples

```javascript
//Remove click event listener
_("div-id").off("click", clickEventHandler);

//Add mousemove and touchmove event listeners
_("div-id").off("mousemove touchmove", moveHandler);
```

Returns **[CalDom][67]** this chainable CalDom instance
<br/>
___
<br/>


# Iterating

## .eq()

Get a new CalDom instance with i-th element in this CalDom instance.

#### Parameters

-   `i` **[number][70]** Can be a zero-based index or a minus(-i) index from end (Eg: -1 returns last element)

#### Examples

```javascript
//Get a new CalDom instance for 5th paragraph
var fifth_para = _("p").eq(4);

//Get a new Caldom instance for 2nd last paragraph
var second_last_para = _("p").eq(-2);
```

Returns **[CalDom][67]** a new CalDom instance with the i-th element
<br/>
___
<br/>

## .parent()

Get a new CalDom instance with nth parent(s) or parent(s) matching the CSS selector.

#### Parameters

-   `n_or_match_selector` **([Number][70] \| [String][64])?** Default is immediate parent. If a number is given, n-th parent is returned (zero-based). If a string is given, first parent(s) to match the CSS selector is returned.

#### Examples

```javascript
//Get a new CalDom instance for immediate parent
var para_parent = _("#para").parent();

//Get a new CalDom instance for 2nd-level parent(grand-parent)
var grand_parent = _("#para").parent(1);

//Get parents with the class "container" for all img elements
var img_parents = _("img").parent(".container");
```

-   Throws **[TypeError][71]** Throws if Element.matches() is not supported in the browser. Use the pollyfill at [https://developer.mozilla.org/en-US/docs/Web/API/Element/matches][72]
    (If this CalDom instance has more than 1 element. Parents of all of them are included.)

Returns **[CalDom][67]** a new CalDom instance with matched parents. Multiple parents will be returned if there are 2 or more elements in the current CalDom instance.
<br/>
___
<br/>

## .children()

Get a new CalDom instance with children of all elements in this CalDom instance.

#### Parameters

-   `match_selector` **[String][64]?** (Optional) CSS selector to match

#### Examples

```javascript
//Get all children of element with id "container-id"
var container_children = _("#container-id").children();

//Get checked elements
var checked_elements = _("#form-id").children(":checked");
```

Returns **[CalDom][67]** a chainable new CalDom instance with children
<br/>
___
<br/>

## .each()

Iterate each element in this CalDom instance with a callback.

#### Parameters

-   `callback` **[Function][73]** Function to callback. Callback is called with 2 arguments: callback(elem: Element, index: Number).

#### Examples

```javascript
//Iterate through all img elements with the class "slide" and log its src
_("img.slide").each( function(elem, i){
		console.log( i, elem.src );
});
```

Returns **[CalDom][67]** current chainable CalDom instance
<br/>
___
<br/>


## .elems

Nodes/Elements of this CalDom instance
<br/>
___
<br/>



[64]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[65]: https://developer.mozilla.org/docs/Web/API/Node/nextSibling

[66]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[67]: #caldom

[68]: https://developer.mozilla.org/docs/Web/API/NodeList

[69]: https://developer.mozilla.org/docs/Web/API/Window

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[71]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypeError

[72]: https://developer.mozilla.org/en-US/docs/Web/API/Element/matches

[73]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[74]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
[75]: https://developer.mozilla.org/en-US/docs/Web/API/HTMLCollection
