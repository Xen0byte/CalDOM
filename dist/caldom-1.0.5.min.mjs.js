export default(function(){var n=window,i=Array.prototype,p=i.slice,t=n.Node.prototype,r=t.appendChild,u=t.insertBefore,l=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(n){return setTimeout(n,1e3/60)};n.Element.prototype.matches=n.Element.prototype.matches||n.Element.prototype.webkitMatchesSelector||n.Element.prototype.t||n.Element.prototype.msMatchesSelector||n.Element.prototype.oMatchesSelector;function a(n,t,i){this.i(n,t,i)}function w(n,t,i){if(n){if(n.u&&(n=n.u),!t)return i.appendChild(n);if(1==n.nodeType&&n.tagName==t.tagName&&n._h===t._h&&n.getAttribute("key")===t.getAttribute("key")){if(!n.isEqualNode(t)){i=n.hasChildNodes();if(i||t.hasChildNodes()){var r=t.childNodes,u=0;if(i)for(var o=p.call(n.childNodes),f=o.length;u<f;u++){var e=w(o[u],r[u],t);e&&e._h&&(e._h.elems[0]=e)}for(;u<r.length;u++){var s,c=r[u];(s=null!=c._h)&&c._h.o(),t.removeChild(c),u--,s&&c._h.h()}}if(!function n(t,i,r){if(Object.getPrototypeOf(i).hasOwnProperty("value")&&(i.value!=t.value&&(i.value=t.value),i.checked!=t.checked&&(i.checked=t.checked),i.indeterminate!=t.indeterminate&&(i.indeterminate=t.indeterminate)),i.selected!=t.selected&&(i.selected=t.selected),t._data&&(i._data=t._data),r)for(var u=p.call(t.children),o=p.call(i.children),f=0,e=u.length;f<e;f++)n(u[f],o[f])}(n,t,!1),!n.isEqualNode(t)){for(var h=0,l=n.attributes.length;h<l;h++){var a=n.attributes[h];t.getAttribute(a.name)!=a.value&&t.setAttribute(a.name,a.value)}for(var v=0,d=t.attributes.length;v<d;v++){var y=t.attributes[v];n.hasAttribute(y.name)||t.removeAttribute(y.name)}}}}else if(!n.isEqualNode(t))return(s=null!=t._h)&&t._h.o(),t.parentNode.replaceChild(n,t),s&&t._h.h(),n}}function o(i,r,u){if(r instanceof a&&(r=r.elems[0]),"function"==typeof i[0])this.each(function(n,t){t=i[0](n,t);u.call(n,t instanceof a?t.elems[0]:t,void 0===r?n.firstChild:r)});else if(null!=i.length)for(var n=0,t=i.length;n<t;n++){var o=i[n];if(o){var f=!!o.elems,e=f?(o.l(),o.v||o.elems):null==o.length||"string"==typeof o||o instanceof Node?[o]:o,s=this.elems[0];void 0===r&&(r=s.firstChild);for(var c=0,h=e.length;c<h;c++){var l=e[c];l&&("string"==typeof l&&(l=this._w.document.createRange().createContextualFragment(l).firstChild),u.call(s,l,r))}f&&(o.v=null,o.p())}}return this}function f(n,t){t=t||window.document;var i=(n=n.trim())[0];if("+"==i)return[t.createElement(n.substr(1))];if("$"!=i)return"<"==i?p.call(t.createRange().createContextualFragment(n).childNodes):"~"==i?[t.createElementNS("http://www.w3.org/2000/svg",n.substr(1))]:p.call(t.querySelectorAll(n));for(var r=(t.ownerDocument||t).evaluate(n.substr(1),t,null,0,null),u=[],o=r.iterateNext();o;)u.push(o),o=r.iterateNext();return u}a.prototype={_w:null,elems:[],watched:void 0,i:function(n,t,i){return this._w=i||window,n&&(n instanceof a?this.elems=n.elems:"string"==typeof n||null==n.length||n instanceof Node?this.elems="object"==typeof n?[n]:f(n,this._w.document):this.elems=n),t instanceof Array&&o.call(this,t,null,r),this},find:function(t){var n=this.map(function(n){return p.call(f(t,n))});return new a(i.concat.apply([],n),null,this._w)},eq:function(n){return new a(this.elems[n<0?this.elems.length+n:n],null,this._w)},parent:function(r){var u=this,o=[];return r&&"number"!=typeof r?this.each(function(n){for(var t=n.parentNode,i=t==u._w.document;!i&&!t.matches(r);)i=(t=t.parentNode)==u._w.document;i||o.push(t)}):this.each(function(n){for(var t=n.parentNode,i=0;i<r;i++)t=t.parentNode;o.push(t)}),new a(o,null,this._w)},children:function(o){var f=[];return this.each(function(n){for(var t=p.call(n.childNodes),i=0,r=t.length;i<r;i++){var u=t[i];(!o||u.matches&&u.matches(o))&&f.push(u)}}),new a(f,null,this._w)},each:function(n){for(var t=0,i=this.elems.length;t<i&&!1!==n.call(this.elems[t],this.elems[t],t);t++);return this},map:function(n){for(var t=[],i=0,r=this.elems.length;i<r;i++)t.push(n(this.elems[i],i));return t},html:function(n){return this.prop("innerHTML",n,!0)},text:function(n){return this.prop("textContent",n,!0)},val:function(n){return this.prop("value",n,!0)},attr:function(i,r){if("string"!=typeof i)this.each(function(n){for(var t in i)n.setAttribute(t,i[t])});else{if(2!=arguments.length)return this.map(function(n){return n.getAttribute(i)});r instanceof Array?this.each(function(n,t){n.setAttribute(i,r[t])}):this.each(function(n){n.setAttribute(i,r)})}return this},prop:function(i,r,n){if(n||"string"==typeof i){if(null==r)return this.map(function(n){return n[i]});r instanceof Array?this.each(function(n,t){n[i]=r[t]}):this.each(function(n){n[i]=r})}else this.each(function(n){for(var t in i)n[t]=i[t]});return this},data:function(i,r){if(null!=r)return r instanceof Array?this.each(function(n,t){n._data||(n._data={}),n._data[i]=r[t]}):this.each(function(n){n._data||(n._data={}),n._data[i]=r}),this;var t=[];return this.each(function(n){n._data&&t.push(n._data[i])}),t},css:function(i,r){if("string"!=typeof i)this.each(function(n){for(var t in i)n.style[t]=i[t]});else{if(null==r)return this.map(function(n){return n.style[i]});r instanceof Array?this.each(function(n,t){n.style[i]=r[t]}):this.each(function(n){n.style[i]=r})}return this},addClass:function(n){var r=n.split(" ");return this.each(function(n){for(var t=0,i=r.length;t<i;t++)n.classList.add(r[t])}),this},removeClass:function(n){for(var t=n.split(" "),i=0,r=t.length;i<r;i++)this.each(function(n){n.classList.remove(t[i])});return this},show:function(t){return this.each(function(n){n.style.display=t||"block"})},hide:function(){return this.each(function(n){n.style.display="none"})},on:function(n,t,i){for(var r=n.split(" "),u=0,o=r.length;u<o;u++)this.each(function(n){n.addEventListener(r[u],t,i)});return this},off:function(n,t,i){for(var r=n.split(" "),u=0,o=r.length;u<o;u++)this.each(function(n){n.removeEventListener(r[u],t,i)});return this},append:function(n){return o.call(this,n instanceof Array?n:arguments,null,r)},prepend:function(n,t){return o.call(this,n instanceof Array?n:[n],t,u)},remove:function(){return this.o(!0),this.each(function(n){n.parentNode.removeChild(n)}),this.elems=[],this.h(!0),this},replace:function(i){return this.each(function(n,t){t=i(n,t,this);w(t=t instanceof a?t.elems[0]:t,n,n)}),this},l:function(){(this.render||this.update)&&(this.willMount&&!this.m&&this.willMount(),this.react(void 0,void 0,void 0,void 0,void 0,!0))},p:function(){var n=this.m;this.m=!0,this.didMount&&!n&&this.didMount()},o:function(n){this.willUnmount&&this.willUnmount(n)},h:function(n){this.m=!1,this.didUnmount&&this.didUnmount(n)},react:function(n,t,i,r,u,o,f){var e,s=this;if(s.watched&&0==arguments.length)return s;if(i||0==arguments.length&&!f)return s.g?void 0:(s.g=l(function(){s.react(void 0,void 0,void 0,r,u,void 0,!0)}),s);if(s.g=null,o||(t&&(null!=t.render&&(s.render=t.render),null!=t.update&&(s.update=t.update),null!=t.watched&&(s.watched=t.watched),null!=t.willMount&&(s.willMount=t.willMount),null!=t.didMount&&(s.didMount=t.didMount),null!=t.willUnmount&&(s.willUnmount=t.willUnmount),null!=t.didUnmount&&(s.didUnmount=t.didUnmount),null!=t.didUpdate&&(s.didUpdate=t.didUpdate)),this._w.Proxy||(s.watched=!1),null!=n&&(0!=s.watched?s.state=(e=function(n,t){s.react(void 0,void 0,!0,n,t)},new Proxy(n,{get:function(n,t){n=n[t];return"object"!=typeof n||null==n||n instanceof a||"_"==t[0]?n:new Proxy(n,this)},set:function(n,t,i){return n[t]=i,e(n,t),!0},deleteProperty:function(n,t){return delete n[t],e(n,t),!0}})):s.state=n)),s.update&&(!s.render||s.elems[0]&&s.elems[0]._h)&&!s.update(s.state,s))return s;if(!s.m&&!o)return s;var c=s.elems[0];if(s.m&&o&&!r){var h=s.elems[0].cloneNode(!0);h._h=s,h.u=s.elems[0],s.v=[h]}else{h=s.render(s.state,s,r,u);if(!h)return s;(h=h instanceof a?h.elems[0]:h)._h=s,c?(c=w(h,c,c))&&(s.elems[0]=c):s.elems=[h],s.didUpdate&&s.didUpdate(s.state,s)}return s}};function e(n,t,i){return new a(n,t,i)}return e.q=f,e.Component=a,e.version="1.0.5","undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define?define(function(){return e}):n[n._caldom_alias||"_"]=e,e})();