// CalDom 1.0.3 - Initial public release
// Copyright (c) 2020 Dumi Jay
// Released under the MIT license - https://github.com/dumijay/CalDom/
!function(){function t(t,e){for(var n=0,i=e.length,r=i-1;n<i;n++){if(n==r)return[e[n],t];t=t[e[n]]}}function e(t,e){if(e=e||window.document,"+"==t[0])return[e.createElement(t.substr(1))];if("$"==t[0]){for(var n=(e.ownerDocument||e).evaluate(t.substr(1),e,null,XPathResult.ANY_TYPE,null),i=[],r=n.iterateNext();r;)i.push(r),r=n.iterateNext();return i}return e.querySelectorAll(t)}function n(t,e){if(e&&e.elems&&(e=e.elems[0]),"function"==typeof t[0])this.each(function(n,i){var r=t[0](n,i);n.insertBefore(r.elems?r.elems[0]:r,void 0===e?n.firstChild:e||null)});else if(void 0!=t.length)for(var n=0,i=t.length;n<i;n++){var s=t[n];if(s)for(var o=s instanceof r?s.elems:void 0!=s.length?s:[s],h=0,u=o.length;h<u;h++)o[h]&&this.elems[0].insertBefore(o[h],void 0===e?this.elems[0].firstChild:e||null)}return this}var r=function(t,e){return this._i(t,e)};r.prototype={_w:null,elems:[],_i:function(t,n){return this._w=n||window,t&&(t instanceof r?this.elems=t.elems:"string"!=typeof t&&void 0!=t.length?this.elems=t:this.elems="object"==typeof t?[t]:e(t,this._w.document)),this},find:function(t){var n=[];return this.each(function(i){n.push(Array.prototype.slice.call(e(t,i)))}),new r(Array.prototype.concat.apply([],n))},eq:function(t){return new r(this.elems[t<0?this.elems.length+t:t])},parent:function(t){var e=this,n=[];return t&&"number"!=typeof t?this.each(function(i){for(var r=i.parentNode,s=r==e._w.document;!s&&!r.matches(t);)s=(r=r.parentNode)==e._w.document;s||n.push(r)}):this.each(function(e){for(var i=e.parentNode,r=0;r<t;r++)i=i.parentNode;n.push(i)}),new r(n)},children:function(t){var e=[];return this.each(function(n){for(var i=0,r=n.childNodes.length;i<r;i++){var s=n.childNodes[i];(!t||s.matches&&s.matches(t))&&e.push(s)}}),new r(e)},each:function(t){for(var e=0,n=this.elems.length;e<n;e++)t(this.elems[e],e);return this},html:function(t){return this.prop("innerHTML",t)},text:function(t){return this.prop("textContent",t)},val:function(t){return this.prop("value",t)},prop:function(e,n){if("string"!=typeof e){for(var r in e)this.each(function(t){t[r]=e[r]});return this}var s=(e=e.split(".")).length>1;if(s||(e=e[0]),void 0==n){var o=[];return s?this.each(function(n){var i=t(n,e);o.push(i[1][i[0]])}):this.each(function(t){o.push(t[e])}),o}var h=n instanceof Array;return s?h?this.each(function(r){t(r,e)[0]=n[i]}):this.each(function(){var i=t(elem,e);i[1][i[0]]=n}):h?this.each(function(t){t[e]=n[i]}):this.each(function(t){t[e]=n}),this},data:function(){return this.prop.apply(this,arguments)},call:function(e,n){var i=[];return(e=e.split(".")).length>1?this.each(function(r){var s=t(r,e);i.push(s[1][s[0]].apply(s[1],n))}):this.each(function(t){i.push(t[e[0]].apply(t,n))}),i},attr:function(t,e){if("string"!=typeof t){for(var n in t)this.each(function(e){e.setAttribute(n,t[n])});return this}if(2!=arguments.length){var r=[];return this.each(function(e){r.push(e.getAttribute(t))}),r}return e instanceof Array?this.each(function(n){n.setAttribute(t,e[i])}):this.each(function(n){n.setAttribute(t,e)}),this},css:function(t,e){if(void 0!==e)this.each(function(n){n.style[t]=e});else{var n=t;for(var i in n)this.each(function(t){t.style[i]=n[i]})}return this},on:function(t,e,n){for(var i=t.split(" "),r=0,s=i.length;r<s;r++)this.each(function(t){t.addEventListener(i[r],e,n)});return this},off:function(t,e,n){for(var i=t.split(" "),r=0,s=i.length;r<s;r++)this.each(function(t){t.removeEventListener(i[r],e,n)});return this},addClass:function(t){var e=t.split(" ");return this.each(function(t){for(var n=0,i=e.length;n<i;n++)t.classList.add(e[n])}),this},removeClass:function(t){for(var e=t.split(" "),n=0,i=e.length;n<i;n++)this.each(function(t){t.classList.remove(e[n])});return this},append:function(t){return n.call(this,t instanceof Array?t:arguments,null)},prepend:function(t,e){return n.call(this,t instanceof Array?t:[t],e)},remove:function(){return this.each(function(t){t.parentNode.removeChild(t)}),this.elems=[],this}};var s=function(t,e){return new r(t,e)};s.q=e;var o=this||window;if(o.module&&module.exports)module.exports=s;else if(o.define)define(function(){return s});else{o[o._caldom_alias||"_"]=s}}();